<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vasile Ungureanu | Notes on "Design II - Refactoring" chapter from "Agile Technical Practices Distilled" book</title>
  <meta name="description" content="Notes on books I read.">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Notes on &quot;Design II - Refactoring&quot; chapter from &quot;Agile Technical Practices Distilled&quot; book">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://vasileungureanu.com/posts/notes-on-refactoring-chapter-from-agile-technical-practices-distilled-book">
  <meta property="og:description" content="Notes on books I read.">
  <meta property="og:site_name" content="Vasile Ungureanu">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://vasileungureanu.com/posts/notes-on-refactoring-chapter-from-agile-technical-practices-distilled-book">
  <meta name="twitter:title" content="Notes on &quot;Design II - Refactoring&quot; chapter from &quot;Agile Technical Practices Distilled&quot; book">
  <meta name="twitter:description" content="Notes on books I read.">

  <link href="https://vasileungureanu.com/feed.xml" type="application/rss+xml" rel="alternate" title="Vasile Ungureanu Last 10 blog posts" />

  
    <link rel="stylesheet" type="text/css" href="/assets/fonts-85dab368d056b5d66418fbfd7e55a89f34f644ee811c8218c81017204426121b.css">
  

  

    
      <link rel="icon" type="image/x-icon" href="/assets/favicon-light-5b9585d8185ef0aca4d7a8a8bc3b861bc4a42dcd58e677a5f29bee5f0bd102f6.ico">
      <link rel="apple-touch-icon" href="/assets/apple-touch-icon-light-60b89b85e145cb568fbf6aba2e67c4c3559b5b5e2f08a2796ece0e2131fd7c8a.png">
      <link rel="stylesheet" type="text/css" href="/assets/light-0d05fcaf37e80d35378722f82fd4c70a895fdbc53bf50e8b3ccb4ea44f3762c8.css">
    

  
  
</head>

<body>
  <main>
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
  <a  id="name" href="/" class="header-logo" title="Vasile Ungureanu">Vasile Ungureanu</a>
  <ul class="header-links">
    
    <li>
      <a href="/tags" title="Tags">
        Tags
      </a>
    </li>
    
    
    <li>
      <a href="/about" title="About">
        About
      </a>
    </li>
    
    <!--
    
      <li>
        <a href="https://twitter.com/vasilevung" rel="noreferrer noopener" target="_blank" title="Twitter">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter">
  <use href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter" xlink:href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter"></use>
</svg>

        </a>
      </li>
    
    
    
    
      <li>
        <a href="https://github.com/vasilevungureanu" rel="noreferrer noopener" target="_blank" title="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
      <li>
        <a href="https://www.linkedin.com/in/vasilevungureanu" rel="noreferrer noopener" target="_blank" title="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-linkedin">
  <use href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin" xlink:href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="mailto:vasile.v.ungureanu@gmail.com" title="Email">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-email">
  <use href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email" xlink:href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email"></use>
</svg>

        </a>
      </li>
    
-->
    
    
  </ul>
</nav>

        <article class="article scrollappear">
          <header class="article-header">
            <h1>Notes on "Design II - Refactoring" chapter from "Agile Technical Practices Distilled" book</h1>
            <p>Notes on books I read.</p>
            <div class="article-list-footer">
              <span class="article-list-date">
                November 24, 2019
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  3 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
                  <a href="/tag/agile-technical-practices-distilled">agile-technical-practices-distilled</a>
                
                  <a href="/tag/design">design</a>
                
                  <a href="/tag/refactoring">refactoring</a>
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <p><em>This post is part of a series of posts with my personal notes on books that I read.
<br />
Taking notes helps a lot in my learning process, also it’s useful to reread them occasionally in order to refresh my knowledge.
<br />
I do, however, strongly recommend reading the book to get the full benefit out of it.
<br />
If you are the publisher and think this content should not be public, please <a href="/about">contact me</a> and I will remove it.</em></p>

<p>Hi!</p>

<p>Here are the notes that I took for you (and me) from the chapter.</p>

<ul>
  <li>Refactor in these circumstances:
    <ul>
      <li>When we find duplication in our code.</li>
      <li>When we break any object calisthenics rule.</li>
    </ul>
  </li>
  <li>Main refactors:
    <ul>
      <li>Rename – Change the name of classes, methods, variables….</li>
      <li>Extract – Extract a class (or methods or variables…), creating a new abstraction.</li>
      <li>Inline – The inverse of extract – inline a method (or variable), deconstructing an abstraction.</li>
      <li>Move – Move a class (or methods or variables…) to some other place in the codebase.</li>
      <li>Safe delete – Delete code and its usages in the codebase.</li>
    </ul>
  </li>
  <li>We should invest some time becoming proficient with our IDE refactors and refactoring shortcuts.</li>
  <li>Refactor 80-20 rule - 80% of the value in refactoring comes from improving readability and understandability of code, the remaining 20% comes from design changes.</li>
  <li>Refactoring guidelines:
    <ul>
      <li>Stay in the green while refactoring.</li>
      <li>Don’t change production code that is not covered by tests.</li>
      <li>Use IDE-automated refactoring to minimize text editing and risk.</li>
      <li>Execute tests after each refactoring to make sure we are still on the green.</li>
      <li>Commit as often as possible.</li>
      <li>Refactor readability before design.</li>
      <li>Change design (simple changes):
        <ul>
          <li>Extract private methods from deep conditionals.</li>
          <li>Extract smaller private methods from long methods, and encapsulate cryptic code in private methods.</li>
          <li>Return from methods as soon as possible.</li>
          <li>Encapsulate where we find missing encapsulation.</li>
          <li>Remove duplication.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Considerations when writing a new test:
    <ul>
      <li>Tests should test one thing only.</li>
      <li>Create more specific tests to drive a more generic solution (triangulate) by adding new tests that force your code to pivot.</li>
      <li>Give your tests meaningful names (behavior/goal-oriented) expressing your business domain.
        <ul>
          <li>Avoid technical names for a test.</li>
          <li>Avoid leaking implementation details in test names.</li>
          <li>Avoid writing technical tests, write behavioral tests instead.</li>
        </ul>
      </li>
      <li>Always see the test fail for the right reason.</li>
      <li>Ensure you have meaningful feedback from the failing test.</li>
      <li>Keep your tests and production code separate.</li>
      <li>Organize your unit tests to reflect your production code.</li>
      <li>Organize your test in arrange, act and assert blocks.</li>
      <li>Write the assertion first and work backward.</li>
      <li>Write fast, isolated, repeatable and self-validating tests.</li>
    </ul>
  </li>
  <li>Considerations when making a failing test pass:
    <ul>
      <li>Write the simplest code to pass the test.</li>
      <li>Write any code that makes you get to the refactor phase more quickly.</li>
      <li>Use Transformation Priority Premise.</li>
      <li>Consider using object calisthenics to drive design decisions.</li>
    </ul>
  </li>
  <li>Considerations after the test passes:
    <ul>
      <li>Use the Rule of Three to tackle duplication.</li>
      <li>Refactor design constantly.</li>
      <li>Apply object calisthenics to improve your design.</li>
      <li>Stay on the green while refactoring (<strong>New habit</strong>).</li>
      <li>Use the IDE to refactor quickly and safely (<strong>New habit</strong>).</li>
      <li>Refactor code for readability/understandability first (<strong>New habit</strong>).</li>
    </ul>
  </li>
</ul>

          </div>

          
        </article>
        <footer class="footer scrollappear">
    <ul class="header-links">
        
        <li>
            <a href="/tags" title="Tags">
                Tags
            </a>
        </li>
        
        
        <li>
            <a href="/about" title="About">
                About
            </a>
        </li>
        
        <!--
            
              <li>
                <a href="https://twitter.com/vasilevung" rel="noreferrer noopener" target="_blank" title="Twitter">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter">
  <use href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter" xlink:href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter"></use>
</svg>

                </a>
              </li>
            
            
            
            
              <li>
                <a href="https://github.com/vasilevungureanu" rel="noreferrer noopener" target="_blank" title="GitHub">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

                </a>
              </li>
            
            
            
            
            
            
            
              <li>
                <a href="https://www.linkedin.com/in/vasilevungureanu" rel="noreferrer noopener" target="_blank" title="LinkedIn">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-linkedin">
  <use href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin" xlink:href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin"></use>
</svg>

                </a>
              </li>
            
            
            
            
            
            
            
            
            
            
            
            
            
              <li>
                <a href="mailto:vasile.v.ungureanu@gmail.com" title="Email">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-email">
  <use href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email" xlink:href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email"></use>
</svg>

                </a>
              </li>
            
        -->
        
        
    </ul>
</footer>

      </div>
    </div>
  </main>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-147818401-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-147818401-1');
  </script>


<script src="/assets/vendor-3f13f0165275d80c3cdec02f97bea6a433522bc06b3ab84718c6a9c4fa41051a.js" type="text/javascript"></script>




  <script src="/assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js" type="text/javascript"></script>


<script src="/assets/application-cfde13ac81ddaf4351b2e739603e2baf688d0fcc9aba613fe62bbb1c7b037fb9.js" type="text/javascript"></script>


</body>
</html>
